<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Legacy Executor</title>
  <style>
    body {
      font-family: sans-serif;
      background: #FFFFFF;
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    button {
      background-color: #8000ff;
      border: none;
      color: #FFF;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 4px;
      margin-top: 10px;
    }

    button:hover {
      background-color: #7B1FA2;
    }
  </style>
</head>
<body>

  <button onclick="openLegacyExecutor()">Open Legacy Executor</button>

  <script>
    function openLegacyExecutor() {
      const win = window.open('about:blank', '_blank');
      if (!win) return alert('Popup blocked. Please allow popups for this site.');

      const html = `<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Interactive HTML Executor with Stars</title><style>body{margin:0;padding:0;background:#000;color:#FFF;font-family:Arial,sans-serif;overflow:hidden}#backgroundCanvas{position:fixed;top:0;left:0;z-index:-1;width:100%;height:100%}.container{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);max-width:650px;width:calc(100% - 40px);background:rgba(0,0,0,0.7);padding:20px;border-radius:8px;z-index:1}h1{text-align:center;margin-top:0}textarea{width:100%;height:200px;background:#666;color:#FFF;border:1px solid #888;padding:10px;margin-bottom:20px;resize:vertical;font-family:monospace;font-size:14px;box-sizing:border-box}input[type="file"]{margin-bottom:20px;color:#fff}button{background:#8A2BE2;border:none;color:#FFF;padding:10px 20px;font-size:16px;cursor:pointer;margin-right:10px;border-radius:4px}button:hover{background:#7B1FA2}hr{border:1px solid #555;margin:20px 0}</style></head><body><canvas id="backgroundCanvas"></canvas><div class="container"><h1>HTML Executor</h1><textarea id="codeInput" placeholder="Enter your HTML/JavaScript code here"></textarea><br><button onclick="executeCode()">Execute Code</button><hr><input type="file" id="fileUpload" accept=".html,.htm,.js,.txt"><button onclick="executeFile()">Execute Uploaded File</button></div><script>const canvas=document.getElementById('backgroundCanvas'),ctx=canvas.getContext('2d');let stars=[],numStars=150,mousePos={x:-100,y:-100};function resizeCanvas(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;initStars()}window.addEventListener('resize',resizeCanvas);resizeCanvas();function Star(x,y,r,dx,dy){this.x=x;this.y=y;this.radius=r;this.dx=dx;this.dy=dy}Star.prototype.draw=function(){ctx.beginPath();ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,false);ctx.fillStyle="#FFF";ctx.fill()};Star.prototype.update=function(){const dxM=this.x-mousePos.x,dyM=this.y-mousePos.y,dist=Math.sqrt(dxM*dxM+dyM*dyM);if(dist<80){const angle=Math.atan2(dyM,dxM),force=(80-dist)/80;this.dx+=Math.cos(angle)*force;this.dy+=Math.sin(angle)*force}this.dx*=0.96;this.dy*=0.96;this.x+=this.dx;this.y+=this.dy;if(this.x<0)this.x+=canvas.width;else if(this.x>canvas.width)this.x-=canvas.width;if(this.y<0)this.y+=canvas.height;else if(this.y>canvas.height)this.y-=canvas.height;this.draw()};function initStars(){stars=[];for(let i=0;i<numStars;i++){const x=Math.random()*canvas.width,y=Math.random()*canvas.height,r=Math.random()*1.5+0.5,dx=(Math.random()-.5)*.5,dy=(Math.random()-.5)*.5;stars.push(new Star(x,y,r,dx,dy))}}initStars();function animate(){requestAnimationFrame(animate);ctx.clearRect(0,0,canvas.width,canvas.height);stars.forEach(star=>star.update())}animate();window.addEventListener("mousemove",e=>{mousePos.x=e.clientX;mousePos.y=e.clientY});function executeCode(){const code=document.getElementById('codeInput').value;if(!code.trim())return alert("Please enter some code to execute.");const blob=new Blob([code],{type:'text/html'}),url=URL.createObjectURL(blob);window.open(url,'_blank')}function executeFile(){const input=document.getElementById('fileUpload');if(input.files.length===0)return alert("Please select a file to execute.");const reader=new FileReader();reader.onload=function(e){const blob=new Blob([e.target.result],{type:'text/html'}),url=URL.createObjectURL(blob);window.open(url,'_blank')};reader.onerror=()=>alert("Error reading file.");reader.readAsText(input.files[0])}<\/script></body></html>`;

      win.document.write(html);
      win.document.close();
    }
  </script>

</body>
</html>
